import{r as i,R}from"./react-e0c689eb.js";import{P as e}from"./prop-types-2c2fa1d7.js";import{a as sn,m as _e}from"./make-event-props-16b3b610.js";import{m as ae}from"./make-cancellable-promise-ec52e768.js";import{c as ye}from"./clsx-1229b3e0.js";import{i as g}from"./tiny-invariant-dd7d57d2.js";import{w as B}from"./tiny-warning-f8a39aa6.js";import{m as ke}from"./merge-refs-3139c2a8.js";import{p as ve,a as cn}from"./pdfjs-dist-05c93a0f.js";const un="default"in ve?cn:ve,J=un,Fe=i.createContext(null);function oe({children:n,type:t}){return R.createElement("div",{className:`react-pdf__message react-pdf__message--${t}`},n)}const ln="noopener noreferrer nofollow";class Ge{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return g(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(t){g(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(r=>{g(this.pdfDocument,"PDF document not loaded."),g(t,"Destination is not specified."),typeof t=="string"?this.pdfDocument.getDestination(t).then(r):Array.isArray(t)?r(t):t.then(r)}).then(r=>{g(Array.isArray(r),`"${r}" is not a valid destination array.`);const a=r[0];new Promise(o=>{g(this.pdfDocument,"PDF document not loaded."),a instanceof Object?this.pdfDocument.getPageIndex(a).then(c=>{o(c)}).catch(()=>{g(!1,`"${a}" is not a valid page reference.`)}):typeof a=="number"?o(a):g(!1,`"${a}" is not a valid destination reference.`)}).then(o=>{const c=o+1;g(this.pdfViewer,"PDF viewer is not initialized."),g(c>=1&&c<=this.pagesCount,`"${c}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:o,pageNumber:c})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const r=t-1;g(this.pdfViewer,"PDF viewer is not initialized."),g(t>=1&&t<=this.pagesCount,`"${t}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:t})}addLinkAttributes(t,r,a){t.href=r,t.rel=this.externalLinkRel||ln,t.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const fn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Le=fn,he=typeof document<"u",dn=he&&window.location.protocol==="file:";function Y(n){return typeof n<"u"}function X(n){return Y(n)&&n!==null}function pn(n){return typeof n=="string"}function gn(n){return n instanceof ArrayBuffer}function mn(n){return g(he,"isBlob can only be used in a browser environment"),n instanceof Blob}function Te(n){return pn(n)&&/^data:/.test(n)}function Oe(n){g(Te(n),"Invalid data URI.");const[t="",r=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(r):unescape(r)}function En(){return he&&window.devicePixelRatio||1}function yn(){B(!dn)}function q(n){n&&n.cancel&&n.cancel()}function Ee(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Ie(n){return n.name==="RenderingCancelledException"}function hn(n){return new Promise((t,r)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return r(new Error("Error while reading a file."));t(a.result)},a.onerror=o=>{if(!o.target)return r(new Error("Error while reading a file."));const{error:c}=o.target;if(!c)return r(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},a.readAsArrayBuffer(n)})}function bn(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Q(){return i.useReducer(bn,{value:void 0,error:void 0})}const{PDFDataRangeTransport:Rn}=J,Ne=(()=>{const n={};return sn.forEach(t=>{n[t]=e.func}),n})(),Sn=e.oneOfType([e.instanceOf(Int8Array),e.instanceOf(Uint8Array),e.instanceOf(Uint8ClampedArray),e.instanceOf(Int16Array),e.instanceOf(Uint16Array),e.instanceOf(Int32Array),e.instanceOf(Uint32Array),e.instanceOf(Float32Array),e.instanceOf(Float64Array)]),$e=[e.string,e.instanceOf(ArrayBuffer),e.shape({data:e.oneOfType([e.string,e.instanceOf(ArrayBuffer),e.arrayOf(e.number.isRequired),Sn]).isRequired}),e.shape({range:e.instanceOf(Rn).isRequired}),e.shape({url:e.string.isRequired})];typeof Blob<"u"&&$e.push(e.instanceOf(Blob));const Me=e.oneOfType([e.string,e.arrayOf(e.string)]),Pn=e.oneOfType($e);e.instanceOf(Ge);e.oneOf(["_self","_blank","_parent","_top"]);e.shape({commonObjs:e.shape({}).isRequired,getAnnotations:e.func.isRequired,getTextContent:e.func.isRequired,getViewport:e.func.isRequired,render:e.func.isRequired});const wn=function(t,r,a){const{[r]:o,pageNumber:c,pdf:u}=t;if(!Y(u))return null;if(Y(o)){if(typeof o!="number")return new Error(`\`${r}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<0)return new Error(`Expected \`${r}\` to be greater or equal to 0.`);const{numPages:y}=u;if(o+1>y)return new Error(`Expected \`${r}\` to be less or equal to ${y-1}.`)}else if(!Y(c))return new Error(`\`${r}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},Tn=function(t,r,a){const{[r]:o,pageIndex:c,pdf:u}=t;if(!Y(u))return null;if(Y(o)){if(typeof o!="number")return new Error(`\`${r}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<1)return new Error(`Expected \`${r}\` to be greater or equal to 1.`);const{numPages:y}=u;if(o>y)return new Error(`Expected \`${r}\` to be less or equal to ${y}.`)}else if(!Y(c))return new Error(`\`${r}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},xn=e.oneOfType([e.any,e.oneOf([!1])]),xe=e.oneOfType([e.func,e.exact({current:e.any})]),vn=e.oneOf(["canvas","custom","none","svg"]),Ln=e.oneOf([0,90,180,270]);var On=globalThis&&globalThis.__awaiter||function(n,t,r,a){function o(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function y(m){try{l(a.next(m))}catch(h){u(h)}}function s(m){try{l(a.throw(m))}catch(h){u(h)}}function l(m){m.done?c(m.value):o(m.value).then(y,s)}l((a=a.apply(n,t||[])).next())})},Ae=globalThis&&globalThis.__rest||function(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(r[a[o]]=n[a[o]]);return r};const{PDFDataRangeTransport:An}=J,Cn=(n,t)=>{switch(t){case Le.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");n(r);break}case Le.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");n(r);break}}},Ve=i.forwardRef(function(t,r){var{children:a,className:o,error:c="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:y,file:s,inputRef:l,imageResourcesPath:m,loading:h="Loading PDFâ€¦",noData:b="No PDF file specified.",onItemClick:d,onLoadError:S,onLoadProgress:v,onLoadSuccess:P,onPassword:A=Cn,onSourceError:k,onSourceSuccess:L,options:C,renderMode:p,rotate:D}=t,j=Ae(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[U,N]=Q(),{value:I,error:f}=U,[M,O]=Q(),{value:w,error:H}=M,F=i.useRef(new Ge),V=i.useRef([]),$=i.useRef({scrollPageIntoView:E=>{const{dest:x,pageNumber:G,pageIndex:_=G-1}=E;if(d){d({dest:x,pageIndex:_,pageNumber:G});return}const ge=V.current[_];if(ge){ge.scrollIntoView();return}}});i.useImperativeHandle(r,()=>({linkService:F,pages:V,viewer:$}),[]);function W(){L&&L()}function se(){f&&(B(!1,f.toString()),k&&k(f))}function z(){N({type:"RESET"})}i.useEffect(z,[s,N]);const Z=i.useCallback(()=>On(this,void 0,void 0,function*(){if(!s)return null;if(typeof s=="string")return Te(s)?{data:Oe(s)}:{url:s};if(s instanceof An)return{range:s};if(gn(s))return{data:s};if(he&&mn(s))return{data:yield hn(s)};if(g(typeof s=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),g("data"in s||"range"in s||"url"in s,"Invalid parameter object: need either .data, .range or .url"),"url"in s&&typeof s.url=="string"&&Te(s.url)){const{url:E}=s,x=Ae(s,["url"]),G=Oe(E);return Object.assign({data:G},x)}return s}),[s]);i.useEffect(()=>{const E=ae(Z());return E.promise.then(x=>{N({type:"RESOLVE",value:x})}).catch(x=>{N({type:"REJECT",error:x})}),()=>{q(E)}},[Z,N]),i.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){se();return}W()}},[I]);function ie(){w&&(P&&P(w),V.current=new Array(w.numPages),F.current.setDocument(w))}function ce(){H&&(B(!1,H.toString()),S&&S(H))}function ee(){O({type:"RESET"})}i.useEffect(ee,[O,I]);function ue(){if(!I)return;const E=C?Object.assign(Object.assign({},I),C):I,x=J.getDocument(E);v&&(x.onProgress=v),A&&(x.onPassword=A);const G=x;return G.promise.then(_=>{O({type:"RESOLVE",value:_})}).catch(_=>{G.destroyed||O({type:"REJECT",error:_})}),()=>{G.destroy()}}i.useEffect(ue,[C,O,I]),i.useEffect(()=>{if(!(typeof w>"u")){if(w===!1){ce();return}ie()}},[w]);function ne(){F.current.setViewer($.current),F.current.setExternalLinkRel(u),F.current.setExternalLinkTarget(y)}i.useEffect(ne,[u,y]);function pe(E,x){V.current[E]=x}function Re(E){delete V.current[E]}const K=i.useMemo(()=>({imageResourcesPath:m,linkService:F.current,onItemClick:d,pdf:w,registerPage:pe,renderMode:p,rotate:D,unregisterPage:Re}),[m,d,w,p,D]),T=i.useMemo(()=>_e(j,()=>w),[j,w]);function le(){return R.createElement(Fe.Provider,{value:K},a)}function fe(){return s?w==null?R.createElement(oe,{type:"loading"},typeof h=="function"?h():h):w===!1?R.createElement(oe,{type:"error"},typeof c=="function"?c():c):le():R.createElement(oe,{type:"no-data"},typeof b=="function"?b():b)}return R.createElement("div",Object.assign({className:ye("react-pdf__Document",o),ref:l,style:{"--scale-factor":"1"}},T),fe())}),Pe=e.oneOfType([e.func,e.node]);Ve.propTypes=Object.assign(Object.assign({},Ne),{children:e.node,className:Me,error:Pe,externalLinkRel:e.string,externalLinkTarget:e.oneOf(["_self","_blank","_parent","_top"]),file:Pn,imageResourcesPath:e.string,inputRef:xe,loading:Pe,noData:Pe,onItemClick:e.func,onLoadError:e.func,onLoadProgress:e.func,onLoadSuccess:e.func,onPassword:e.func,onSourceError:e.func,onSourceSuccess:e.func,options:e.shape({canvasFactory:e.any,canvasMaxAreaInBytes:e.number,cMapPacked:e.bool,CMapReaderFactory:e.any,cMapUrl:e.string,disableAutoFetch:e.bool,disableFontFace:e.bool,disableRange:e.bool,disableStream:e.bool,docBaseUrl:e.string,enableXfa:e.bool,filterFactory:e.any,fontExtraProperties:e.bool,httpHeaders:e.object,isEvalSupported:e.bool,isOffscreenCanvasSupported:e.bool,length:e.number,maxImageSize:e.number,ownerDocument:e.any,password:e.string,pdfBug:e.bool,rangeChunkSize:e.number,StandardFontDataFactory:e.any,standardFontDataUrl:e.string,stopAtErrors:e.bool,useSystemFonts:e.bool,useWorkerFetch:e.bool,verbosity:e.number,withCredentials:e.bool,worker:e.any}),rotate:e.number});const Yn=Ve;function je(){return i.useContext(Fe)}const Be=i.createContext(null),Ue={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Dn=/^H(\d+)$/;function _n(n){return n in Ue}function be(n){return"children"in n}function He(n){return be(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function kn(n){const t={};if(be(n)){const{role:r}=n,a=r.match(Dn);if(a)t.role="heading",t["aria-level"]=Number(a[1]);else if(_n(r)){const o=Ue[r];o&&(t.role=o)}}return t}function We(n){const t={};if(be(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),He(n)){const[r]=n.children;if(r){const a=We(r);return Object.assign(Object.assign({},t),a)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function Fn(n){return n?Object.assign(Object.assign({},kn(n)),We(n)):null}function qe({className:n,node:t}){const r=i.useMemo(()=>Fn(t),[t]),a=i.useMemo(()=>!be(t)||He(t)?null:t.children.map((o,c)=>R.createElement(qe,{key:c,node:o})),[t]);return R.createElement("span",Object.assign({className:n},r),a)}function de(){return i.useContext(Be)}function Gn(){const n=de();g(n,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:r}=n,[a,o]=Q(),{value:c,error:u}=a,{customTextRenderer:y,page:s}=n;function l(){c&&r&&r(c)}function m(){u&&(B(!1,u.toString()),t&&t(u))}function h(){o({type:"RESET"})}i.useEffect(h,[o,s]);function b(){if(y||!s)return;const d=ae(s.getStructTree()),S=d;return d.promise.then(v=>{o({type:"RESOLVE",value:v})}).catch(v=>{o({type:"REJECT",error:v})}),()=>q(S)}return i.useEffect(b,[y,s,o]),i.useEffect(()=>{if(c!==void 0){if(c===!1){m();return}l()}},[c]),c?R.createElement(qe,{className:"react-pdf__Page__structTree structTree",node:c}):null}const Ce=J.AnnotationMode;function In(n){const t=de();g(t,"Unable to find Page context.");const r=Object.assign(Object.assign({},t),n),{_className:a,canvasBackground:o,devicePixelRatio:c=En(),onRenderError:u,onRenderSuccess:y,page:s,renderForms:l,renderTextLayer:m,rotate:h,scale:b}=r,{canvasRef:d}=n;g(s,"Attempted to render page canvas, but no page was specified.");const S=i.useRef(null);function v(){s&&y&&y(Ee(s,b))}function P(p){Ie(p)||(B(!1,p.toString()),u&&u(p))}const A=i.useMemo(()=>s.getViewport({scale:b*c,rotation:h}),[c,s,h,b]),k=i.useMemo(()=>s.getViewport({scale:b,rotation:h}),[s,h,b]);function L(){if(!s)return;s.cleanup();const{current:p}=S;if(!p)return;p.width=A.width,p.height=A.height,p.style.width=`${Math.floor(k.width)}px`,p.style.height=`${Math.floor(k.height)}px`,p.style.visibility="hidden";const D={annotationMode:l?Ce.ENABLE_FORMS:Ce.ENABLE,canvasContext:p.getContext("2d",{alpha:!1}),viewport:A};o&&(D.background=o);const j=s.render(D),U=j;return j.promise.then(()=>{p.style.visibility="",v()}).catch(P),()=>q(U)}i.useEffect(L,[o,S,c,s,l,A,k]);const C=i.useCallback(()=>{const{current:p}=S;p&&(p.width=0,p.height=0)},[S]);return i.useEffect(()=>C,[C]),R.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:ke(d,S),style:{display:"block",userSelect:"none"}},m?R.createElement(Gn,null):null)}function Nn(){const n=de();g(n,"Unable to find Page context.");const{_className:t,onRenderSuccess:r,onRenderError:a,page:o,rotate:c,scale:u}=n;g(o,"Attempted to render page SVG, but no page was specified.");const[y,s]=Q(),{value:l,error:m}=y;function h(){o&&r&&r(Ee(o,u))}function b(){m&&(Ie(m)||(B(!1,m.toString()),a&&a(m)))}const d=i.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);function S(){s({type:"RESET"})}i.useEffect(S,[o,s,d]);function v(){if(!o)return;const L=ae(o.getOperatorList());return L.promise.then(C=>{new J.SVGGraphics(o.commonObjs,o.objs).getSVG(C,d).then(D=>{if(!(D instanceof SVGElement))throw new Error("getSVG returned unexpected result.");s({type:"RESOLVE",value:D})}).catch(D=>{s({type:"REJECT",error:D})})}).catch(C=>{s({type:"REJECT",error:C})}),()=>q(L)}i.useEffect(v,[o,s,d]),i.useEffect(()=>{if(l!==void 0){if(l===!1){b();return}h()}},[l]);function P(L){if(!L||!l)return;L.firstElementChild||L.appendChild(l);const{width:C,height:p}=d;l.setAttribute("width",`${C}`),l.setAttribute("height",`${p}`)}const{width:A,height:k}=d;return R.createElement("div",{className:`${t}__svg`,ref:L=>P(L),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:A,height:k,userSelect:"none"}})}function $n(n){return"str"in n}function Mn(){const n=de();g(n,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:r,onGetTextSuccess:a,onRenderTextLayerError:o,onRenderTextLayerSuccess:c,page:u,pageIndex:y,pageNumber:s,rotate:l,scale:m}=n;g(u,"Attempted to load page text content, but no page was specified.");const[h,b]=Q(),{value:d,error:S}=h,v=i.useRef(null),P=i.useRef();B(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1);function A(){d&&a&&a(d)}function k(){S&&(B(!1,S.toString()),r&&r(S))}function L(){b({type:"RESET"})}i.useEffect(L,[u,b]);function C(){if(!u)return;const f=ae(u.getTextContent()),M=f;return f.promise.then(O=>{b({type:"RESOLVE",value:O})}).catch(O=>{b({type:"REJECT",error:O})}),()=>q(M)}i.useEffect(C,[u,b]),i.useEffect(()=>{if(d!==void 0){if(d===!1){k();return}A()}},[d]);const p=i.useCallback(()=>{c&&c()},[c]),D=i.useCallback(f=>{B(!1,f.toString()),o&&o(f)},[o]);function j(){const f=P.current;f&&f.classList.add("active")}function U(){const f=P.current;f&&f.classList.remove("active")}const N=i.useMemo(()=>u.getViewport({scale:m,rotation:l}),[u,l,m]);function I(){if(!u||!d)return;const{current:f}=v;if(!f)return;f.innerHTML="";const M=u.streamTextContent({includeMarkedContent:!0}),O={container:f,textContentSource:M,viewport:N},w=J.renderTextLayer(O),H=w;return w.promise.then(()=>{const F=document.createElement("div");F.className="endOfContent",f.append(F),P.current=F;const V=f.querySelectorAll('[role="presentation"]');if(t){let $=0;d.items.forEach((W,se)=>{if(!$n(W))return;const z=V[$];if(!z)return;const Z=t(Object.assign({pageIndex:y,pageNumber:s,itemIndex:se},W));z.innerHTML=Z,$+=W.str&&W.hasEOL?2:1})}p()}).catch(D),()=>q(H)}return i.useLayoutEffect(I,[t,D,p,u,y,s,d,N]),R.createElement("div",{className:ye("react-pdf__Page__textContent","textLayer"),onMouseUp:U,onMouseDown:j,ref:v})}function Vn(){const n=je();g(n,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const t=de();g(t,"Unable to find Page context.");const r=Object.assign(Object.assign({},n),t),{imageResourcesPath:a,linkService:o,onGetAnnotationsError:c,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:y,onRenderAnnotationLayerSuccess:s,page:l,pdf:m,renderForms:h,rotate:b,scale:d=1}=r;g(l,"Attempted to load page annotations, but no page was specified.");const[S,v]=Q(),{value:P,error:A}=S,k=i.useRef(null);B(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1);function L(){P&&u&&u(P)}function C(){A&&(B(!1,A.toString()),c&&c(A))}function p(){v({type:"RESET"})}i.useEffect(p,[v,l]);function D(){if(!l)return;const f=ae(l.getAnnotations()),M=f;return f.promise.then(O=>{v({type:"RESOLVE",value:O})}).catch(O=>{v({type:"REJECT",error:O})}),()=>{q(M)}}i.useEffect(D,[v,l,h]),i.useEffect(()=>{if(P!==void 0){if(P===!1){C();return}L()}},[P]);function j(){s&&s()}function U(f){y&&y(f)}const N=i.useMemo(()=>l.getViewport({scale:d,rotation:b}),[l,b,d]);function I(){if(!m||!l||!P)return;const{current:f}=k;if(!f)return;const M=N.clone({dontFlip:!0}),O={accessibilityManager:null,annotationCanvasMap:null,div:f,l10n:null,page:l,viewport:M},w={annotations:P,annotationStorage:m.annotationStorage,div:f,downloadManager:null,imageResourcesPath:a,linkService:o,page:l,renderForms:h,viewport:M};f.innerHTML="";try{new J.AnnotationLayer(O).render(w),j()}catch(H){U(H)}return()=>{}}return i.useEffect(I,[P,a,o,l,h,N]),R.createElement("div",{className:ye("react-pdf__Page__annotations","annotationLayer"),ref:k})}var jn=globalThis&&globalThis.__rest||function(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(r[a[o]]=n[a[o]]);return r};const De=1,Je=function(t){const r=je();g(r,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const a=Object.assign(Object.assign({},r),t),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:u,canvasRef:y,children:s,className:l,customRenderer:m,customTextRenderer:h,devicePixelRatio:b,error:d="Failed to load the page.",height:S,inputRef:v,loading:P="Loading pageâ€¦",noData:A="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:C,onGetStructTreeSuccess:p,onGetTextError:D,onGetTextSuccess:j,onLoadError:U,onLoadSuccess:N,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:f,onRenderError:M,onRenderSuccess:O,onRenderTextLayerError:w,onRenderTextLayerSuccess:H,pageIndex:F,pageNumber:V,pdf:$,registerPage:W,renderAnnotationLayer:se=!0,renderForms:z=!1,renderMode:Z="canvas",renderTextLayer:ie=!0,rotate:ce,scale:ee=De,unregisterPage:ue,width:ne}=a,pe=jn(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Re,K]=Q(),{value:T,error:le}=Re,fe=i.useRef(null);g($,"Attempted to load a page, but no document was specified.");const E=X(V)?V-1:F??null,x=V??(X(F)?F+1:null),G=ce??(T?T.rotate:null),_=i.useMemo(()=>{if(!T)return null;let te=1;const Se=ee??De;if(ne||S){const re=T.getViewport({scale:1,rotation:G});ne?te=ne/re.width:S&&(te=S/re.height)}return Se*te},[S,T,G,ee,ne]);function ge(){return()=>{X(E)&&c&&ue&&ue(E)}}i.useEffect(ge,[c,$,E,ue]);function ze(){if(N){if(!T||!_)return;N(Ee(T,_))}if(c&&W){if(!X(E)||!fe.current)return;W(E,fe.current)}}function Ke(){le&&(B(!1,le.toString()),U&&U(le))}function Xe(){K({type:"RESET"})}i.useEffect(Xe,[K,$,E]);function Ye(){if(!$||!x)return;const te=ae($.getPage(x)),Se=te;return te.promise.then(re=>{K({type:"RESOLVE",value:re})}).catch(re=>{K({type:"REJECT",error:re})}),()=>q(Se)}i.useEffect(Ye,[K,$,E,x,W]),i.useEffect(()=>{if(T!==void 0){if(T===!1){Ke();return}ze()}},[T,_]);const Qe=i.useMemo(()=>T&&X(E)&&x&&X(G)&&X(_)?{_className:o,canvasBackground:u,customTextRenderer:h,devicePixelRatio:b,onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:C,onGetStructTreeSuccess:p,onGetTextError:D,onGetTextSuccess:j,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:f,onRenderError:M,onRenderSuccess:O,onRenderTextLayerError:w,onRenderTextLayerSuccess:H,page:T,pageIndex:E,pageNumber:x,renderForms:z,renderTextLayer:ie,rotate:G,scale:_}:null,[o,u,h,b,k,L,C,p,D,j,I,f,M,O,w,H,T,E,x,z,ie,G,_]),Ze=i.useMemo(()=>_e(pe,()=>T&&(_?Ee(T,_):void 0)),[pe,T,_]),me=`${E}@${_}/${G}`,en=`${E}/${G}`;function nn(){switch(Z){case"custom":return g(m,'renderMode was set to "custom", but no customRenderer was passed.'),R.createElement(m,{key:`${me}_custom`});case"none":return null;case"svg":return R.createElement(Nn,{key:`${en}_svg`});case"canvas":default:return R.createElement(In,{key:`${me}_canvas`,canvasRef:y})}}function tn(){return ie?R.createElement(Mn,{key:`${me}_text`}):null}function rn(){return se?R.createElement(Vn,{key:`${me}_annotations`}):null}function on(){return R.createElement(Be.Provider,{value:Qe},nn(),tn(),rn(),s)}function an(){return x?$===null||T===void 0||T===null?R.createElement(oe,{type:"loading"},typeof P=="function"?P():P):$===!1||T===!1?R.createElement(oe,{type:"error"},typeof d=="function"?d():d):on():R.createElement(oe,{type:"no-data"},typeof A=="function"?A():A)}return R.createElement("div",Object.assign({className:ye(o,l),"data-page-number":x,ref:ke(v,fe),style:{"--scale-factor":`${_}`,backgroundColor:u||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ze),an())},we=e.oneOfType([e.func,e.node]);Je.propTypes=Object.assign(Object.assign({},Ne),{canvasBackground:e.string,canvasRef:xe,children:e.node,className:Me,customRenderer:e.func,customTextRenderer:e.func,devicePixelRatio:e.number,error:we,height:e.number,imageResourcesPath:e.string,inputRef:xe,loading:we,noData:we,onGetTextError:e.func,onGetTextSuccess:e.func,onLoadError:e.func,onLoadSuccess:e.func,onRenderError:e.func,onRenderSuccess:e.func,onRenderTextLayerError:e.func,onRenderTextLayerSuccess:e.func,pageIndex:wn,pageNumber:Tn,pdf:xn,renderAnnotationLayer:e.bool,renderForms:e.bool,renderMode:vn,renderTextLayer:e.bool,rotate:Ln,scale:e.number,width:e.number});const Qn=Je;yn();J.GlobalWorkerOptions.workerSrc="pdf.worker.js";export{Yn as D,Qn as P,J as p};
