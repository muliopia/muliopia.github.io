import{r as y}from"./react-e0c689eb.js";import{b as D}from"./react-activity-calendar-3cfb07c6.js";var f={};Object.defineProperty(f,"__esModule",{value:!0});var n=y,b=D;function h(e){return e&&e.__esModule?e:{default:e}}var l=h(n),j=h(b);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},s.apply(this,arguments)}const $="https://github-contributions-api.jogruber.de/v4/",C={light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["#161b22","#0e4429","#006d32","#26a641","#39d353"]},O=(e,r)=>{if(typeof r!="function")return e;const a=r(e);if(!Array.isArray(a))throw new Error("Passed function transformData must return a list of Day objects.");if(a.length>0){const t=a[0];if(typeof t.count!="number"||t.count<0)throw new Error(`Required property "count: number" missing or invalid. Got: ${t.count}`);if(!/\d{4}-\d{2}-\d{2}/.test(t.date))throw new Error(`Required property "date: YYYY-MM-DD" missing or invalid. Got: ${t.date}`);if(typeof t.level!="number"||t.level<0||t.level>4)throw new Error(`Required property "level: 0 | 1 | 2 | 3 | 4" missing or invalid: Got: ${t.level}.`)}return a};async function R(e,r){const a=await fetch(`${$}${e}?y=${r}`),t=await a.json();if(!a.ok)throw new Error(t.error);return t}const M=({username:e,year:r="last",labels:a,transformData:t,transformTotalCount:m=!0,...u})=>{const[o,v]=n.useState(null),[p,i]=n.useState(!1),[g,c]=n.useState(null),d=n.useCallback(()=>{i(!0),c(null),R(e,r).then(v).catch(c).finally(()=>i(!1))},[e,r]);if(n.useEffect(d,[d]),g)return l.default.createElement("div",null,l.default.createElement("i",null,"Unable to fetch contribution data. See console."));if(p||!o)return l.default.createElement(b.Skeleton,s({},u,{loading:!0}));const E=u.theme??C,_={totalCount:`{{count}} contributions in ${r==="last"?"the last year":"{{year}}"}`},w=r==="last"?o.total.lastYear:o.total[r];return l.default.createElement(j.default,s({data:O(o.contributions,t),theme:E,labels:Object.assign({},_,a),totalCount:t&&m?void 0:w},u))};var A=f.default=M;export{A as _};
